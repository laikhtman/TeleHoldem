@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================================================
   COMPREHENSIVE DESIGN TOKEN SYSTEM
   ================================================
   All design tokens are centralized here for consistency.
   Use these tokens throughout the application instead of hardcoded values.
   ================================================ */

/* LIGHT MODE TOKENS */
:root {
  /* ================== SPACING TOKENS ================== */
  /* Use these for all padding, margin, and gap values */
  --spacing-xs: 0.25rem;   /* 4px */
  --spacing-sm: 0.5rem;    /* 8px */
  --spacing-md: 1rem;      /* 16px */
  --spacing-lg: 1.5rem;    /* 24px */
  --spacing-xl: 2rem;      /* 32px */
  --spacing-2xl: 3rem;     /* 48px */
  --spacing-3xl: 4rem;     /* 64px */
  --spacing-4xl: 5rem;     /* 80px */
  --spacing-5xl: 6rem;     /* 96px */

  /* ================== TYPOGRAPHY TOKENS ================== */
  /* Font Families */
  --font-sans: Inter, system-ui, sans-serif;
  --font-serif: Georgia, serif;
  --font-mono: JetBrains Mono, Menlo, monospace;
  
  /* Font Sizes - Use for all text */
  --font-size-xs: 0.75rem;    /* 12px */
  --font-size-sm: 0.875rem;   /* 14px */
  --font-size-base: 1rem;     /* 16px */
  --font-size-lg: 1.125rem;   /* 18px */
  --font-size-xl: 1.25rem;    /* 20px */
  --font-size-2xl: 1.5rem;    /* 24px */
  --font-size-3xl: 2rem;      /* 32px */
  --font-size-4xl: 2.5rem;    /* 40px */
  --font-size-5xl: 3rem;      /* 48px */
  
  /* Font Weights */
  --font-weight-thin: 100;
  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-extrabold: 800;
  --font-weight-black: 900;
  
  /* Line Heights */
  --line-height-none: 1;
  --line-height-tight: 1.25;
  --line-height-snug: 1.375;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.625;
  --line-height-loose: 2;
  
  /* Letter Spacing */
  --letter-spacing-tighter: -0.05em;
  --letter-spacing-tight: -0.025em;
  --letter-spacing-normal: 0em;
  --letter-spacing-wide: 0.025em;
  --letter-spacing-wider: 0.05em;
  --letter-spacing-widest: 0.1em;

  /* Responsive Body Typography */
  --font-size-body-xs: 14px;   /* <480px */
  --font-size-body-sm: 15px;   /* 480–767px */
  --font-size-body-md: 16px;   /* 768–1023px */
  --font-size-body-lg: 16px;   /* ≥1024px */
  --font-size-body: var(--font-size-body-sm);

  /* ================== RADIUS TOKENS ================== */
  /* Use for all border-radius values */
  --radius-none: 0;
  --radius-sm: 0.25rem;    /* 4px */
  --radius-md: 0.5rem;     /* 8px - Default radius */
  --radius-lg: 0.75rem;    /* 12px */
  --radius-xl: 1rem;       /* 16px */
  --radius-2xl: 1.5rem;    /* 24px */
  --radius-full: 9999px;   /* Perfect circle/pill */
  
  /* Backward compatibility */
  --radius: var(--radius-md);

  /* ================== SHADOW TOKENS ================== */
  /* Elevation scale for depth perception */
  --shadow-none: none;
  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.05);
  --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.08);
  --shadow-sm: 0px 2px 4px -1px hsl(0 0% 0% / 0.06), 0px 1px 2px -1px hsl(0 0% 0% / 0.04);
  --shadow: 0px 4px 6px -1px hsl(0 0% 0% / 0.08), 0px 2px 4px -2px hsl(0 0% 0% / 0.05);
  --shadow-md: 0px 6px 12px -2px hsl(0 0% 0% / 0.10), 0px 3px 6px -3px hsl(0 0% 0% / 0.05);
  --shadow-lg: 0px 10px 20px -4px hsl(0 0% 0% / 0.12), 0px 4px 8px -4px hsl(0 0% 0% / 0.06);
  --shadow-xl: 0px 20px 30px -6px hsl(0 0% 0% / 0.15), 0px 8px 12px -6px hsl(0 0% 0% / 0.08);
  --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 0% / 0.25);
  --shadow-inner: inset 0 2px 4px 0 hsl(0 0% 0% / 0.05);

  /* ================== ANIMATION TOKENS ================== */
  /* Transition Durations */
  --transition-fastest: 50ms;
  --transition-faster: 100ms;
  --transition-fast: 150ms;
  --transition-base: 300ms;
  --transition-slow: 500ms;
  --transition-slower: 700ms;
  --transition-slowest: 1000ms;
  
  /* Easing Functions */
  --ease-linear: linear;
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  
  /* Animation Performance Settings */
  --animation-duration-fast: var(--transition-fast);
  --animation-duration-normal: var(--transition-base);
  --animation-duration-slow: var(--transition-slow);
  --animation-stagger-delay: 100ms;
  --max-concurrent-animations: 5;

  /* ================== COLOR TOKENS ================== */
  
  /* Core Color System - Semantic tokens for consistent theming */
  
  /* Background Colors */
  --color-background: 0 0% 98%;              /* Main background */
  --color-background-secondary: 0 0% 96%;    /* Secondary background */
  --color-background-tertiary: 0 0% 94%;     /* Tertiary background */
  --color-background-elevated: 0 0% 100%;    /* Elevated surfaces */
  
  /* Foreground/Text Colors */
  --color-foreground: 0 0% 10%;              /* Primary text */
  --color-foreground-secondary: 0 0% 30%;    /* Secondary text */
  --color-foreground-tertiary: 0 0% 50%;     /* Tertiary text */
  --color-foreground-muted: 0 0% 60%;        /* Muted text */
  --color-foreground-inverse: 0 0% 98%;      /* Inverse text */
  
  /* Surface Colors (Cards, Modals, etc) */
  --color-surface: 0 0% 96%;                 /* Card backgrounds */
  --color-surface-secondary: 0 0% 94%;       /* Secondary surfaces */
  --color-surface-tertiary: 0 0% 92%;        /* Tertiary surfaces */
  
  /* Border Colors */
  --color-border: 0 0% 88%;                  /* Default borders */
  --color-border-secondary: 0 0% 85%;        /* Secondary borders */
  --color-border-tertiary: 0 0% 82%;         /* Tertiary borders */
  --color-border-focus: 45 90% 55%;          /* Focus borders */
  
  /* Brand/Primary Colors */
  --color-primary: 45 90% 45%;               /* Primary brand color */
  --color-primary-hover: 45 90% 40%;         /* Primary hover state */
  --color-primary-active: 45 90% 35%;        /* Primary active state */
  --color-primary-foreground: 45 5% 98%;     /* Text on primary */
  
  /* Secondary Colors */
  --color-secondary: 0 0% 86%;               /* Secondary color */
  --color-secondary-hover: 0 0% 82%;         /* Secondary hover */
  --color-secondary-active: 0 0% 78%;        /* Secondary active */
  --color-secondary-foreground: 0 0% 18%;    /* Text on secondary */
  
  /* State Colors */
  --color-success: 140 60% 50%;              /* Success state */
  --color-success-foreground: 140 5% 98%;    /* Text on success */
  --color-warning: 45 90% 55%;               /* Warning state */
  --color-warning-foreground: 45 5% 10%;     /* Text on warning */
  --color-error: 0 70% 50%;                  /* Error state */
  --color-error-foreground: 0 5% 98%;        /* Text on error */
  --color-info: 220 60% 45%;                 /* Info state */
  --color-info-foreground: 220 5% 98%;       /* Text on info */
  
  /* Accent Colors */
  --color-accent: 140 15% 88%;               /* Accent color */
  --color-accent-hover: 140 15% 84%;         /* Accent hover */
  --color-accent-active: 140 15% 80%;        /* Accent active */
  --color-accent-foreground: 140 10% 22%;    /* Text on accent */
  
  /* Muted Colors */
  --color-muted: 140 8% 90%;                 /* Muted backgrounds */
  --color-muted-hover: 140 8% 86%;           /* Muted hover */
  --color-muted-active: 140 8% 82%;          /* Muted active */
  --color-muted-foreground: 140 10% 25%;     /* Text on muted */
  
  /* Interactive Element States */
  --color-hover: rgba(0, 0, 0, 0.03);        /* Hover overlay */
  --color-active: rgba(0, 0, 0, 0.08);       /* Active overlay */
  --color-disabled: rgba(0, 0, 0, 0.38);     /* Disabled overlay */
  
  /* Focus/Selection Colors */
  --color-focus: 45 90% 55%;                 /* Focus rings */
  --color-selection: 45 90% 85%;             /* Text selection */
  
  /* Legacy mappings for backwards compatibility */
  --background: var(--color-background);
  --foreground: var(--color-foreground);
  --border: var(--color-border);
  
  --card: var(--color-surface);
  --card-foreground: var(--color-foreground);
  --card-border: var(--color-border);
  
  --primary: var(--color-primary);
  --primary-foreground: var(--color-primary-foreground);
  
  --secondary: var(--color-secondary);
  --secondary-foreground: var(--color-secondary-foreground);
  
  --muted: var(--color-muted);
  --muted-foreground: var(--color-muted-foreground);
  
  --accent: var(--color-accent);
  --accent-foreground: var(--color-accent-foreground);
  
  --destructive: var(--color-error);
  --destructive-foreground: var(--color-error-foreground);
  
  /* Component-specific colors */
  --sidebar: var(--color-surface-secondary);
  --sidebar-foreground: var(--color-foreground);
  --sidebar-border: var(--color-border);
  --sidebar-primary: var(--color-primary);
  --sidebar-primary-foreground: var(--color-primary-foreground);
  --sidebar-accent: var(--color-accent);
  --sidebar-accent-foreground: var(--color-accent-foreground);
  --sidebar-ring: var(--color-focus);
  
  --popover: var(--color-surface-tertiary);
  --popover-foreground: var(--color-foreground);
  --popover-border: var(--color-border-secondary);
  
  --input: 0 0% 70%;
  --ring: var(--color-focus);
  
  /* Chart colors */
  --chart-1: 140 60% 40%;
  --chart-2: 45 85% 45%;
  --chart-3: 0 70% 50%;
  --chart-4: 220 60% 45%;
  --chart-5: 280 60% 45%;
  
  /* Poker-specific colors */
  --poker-felt: 140 70% 25%;
  --poker-felt-light: 140 60% 30%;
  --poker-table-border: 25 35% 28%;
  --poker-card-bg: 0 0% 95%;
  --poker-card-red: 0 85% 45%;
  --poker-card-black: 0 0% 10%;
  --poker-chip-gold: 45 90% 55%;
  --poker-success: 140 60% 50%;
  
  /* Elevation system overlays */
  --elevate-1: var(--color-hover);
  --elevate-2: var(--color-active);
  
  /* Button outlines */
  --button-outline: rgba(0, 0, 0, .10);
  --badge-outline: rgba(0, 0, 0, .05);
  
  /* Border intensity for computed borders */
  --opaque-button-border-intensity: -8;
  
  /* ================== Z-INDEX TOKENS ================== */
  /* Layering system for consistent stacking */
  --z-base: 0;
  --z-dropdown: 10;
  --z-sticky: 50;
  --z-fixed: 100;
  --z-overlay: 200;
  --z-modal: 300;
  --z-popover: 400;
  --z-tooltip: 500;
  --z-notification: 600;
  --z-max: 9999;
  
  /* Poker-specific z-index */
  --z-table-base: 0;
  --z-felt: 1;
  --z-community-cards: 3;
  --z-pot-display: 3;
  --z-player-seats: 4;
  --z-controls: 5;
  --z-overlays: 10;
  --z-modals: 20;
  --z-tooltips: 30;
  --z-fixed-ui: 50;
  
  /* ================== BREAKPOINT TOKENS ================== */
  /* For use in CSS calc() or custom properties */
  --breakpoint-xs: 480px;
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;
  
  /* ================== SAFE AREA TOKENS ================== */
  /* iOS notch and home indicator support */
  --safe-area-top: env(safe-area-inset-top, 0px);
  --safe-area-right: env(safe-area-inset-right, 0px);
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-left: env(safe-area-inset-left, 0px);
  
  /* Automatically computed borders */
  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --sidebar-accent-border: hsl(var(--sidebar-accent));
  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --primary-border: hsl(var(--primary));
  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --secondary-border: hsl(var(--secondary));
  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --muted-border: hsl(var(--muted));
  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --accent-border: hsl(var(--accent));
  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --destructive-border: hsl(var(--destructive));
  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
}

/* DARK MODE TOKENS */
.dark {
  /* Dark mode colors - all other tokens remain the same */
  
  /* Background Colors */
  --color-background: 222 6% 12%;
  --color-background-secondary: 222 5% 15%;
  --color-background-tertiary: 222 4% 18%;
  --color-background-elevated: 222 4% 20%;
  
  /* Foreground/Text Colors */
  --color-foreground: 0 0% 98%;
  --color-foreground-secondary: 0 0% 85%;
  --color-foreground-tertiary: 0 0% 70%;
  --color-foreground-muted: 0 0% 55%;
  --color-foreground-inverse: 0 0% 10%;
  
  /* Surface Colors */
  --color-surface: 222 5% 15%;
  --color-surface-secondary: 222 4% 18%;
  --color-surface-tertiary: 222 4% 20%;
  
  /* Border Colors */
  --color-border: 222 5% 22%;
  --color-border-secondary: 222 4% 26%;
  --color-border-tertiary: 222 4% 30%;
  --color-border-focus: 45 90% 55%;
  
  /* Brand/Primary Colors */
  --color-primary: 45 90% 50%;
  --color-primary-hover: 45 90% 55%;
  --color-primary-active: 45 90% 60%;
  --color-primary-foreground: 45 5% 10%;
  
  /* Secondary Colors */
  --color-secondary: 222 3% 24%;
  --color-secondary-hover: 222 3% 28%;
  --color-secondary-active: 222 3% 32%;
  --color-secondary-foreground: 0 0% 90%;
  
  /* State Colors */
  --color-success: 140 60% 50%;
  --color-success-foreground: 140 5% 10%;
  --color-warning: 45 90% 55%;
  --color-warning-foreground: 45 5% 10%;
  --color-error: 0 70% 45%;
  --color-error-foreground: 0 5% 98%;
  --color-info: 220 60% 55%;
  --color-info-foreground: 220 5% 10%;
  
  /* Accent Colors */
  --color-accent: 140 12% 22%;
  --color-accent-hover: 140 12% 26%;
  --color-accent-active: 140 12% 30%;
  --color-accent-foreground: 140 8% 88%;
  
  /* Muted Colors */
  --color-muted: 140 6% 20%;
  --color-muted-hover: 140 6% 24%;
  --color-muted-active: 140 6% 28%;
  --color-muted-foreground: 140 6% 75%;
  
  /* Interactive Element States */
  --color-hover: rgba(255, 255, 255, 0.04);
  --color-active: rgba(255, 255, 255, 0.09);
  --color-disabled: rgba(255, 255, 255, 0.38);
  
  /* Focus/Selection Colors */
  --color-focus: 45 90% 55%;
  --color-selection: 45 90% 25%;
  
  /* Dark mode shadow adjustments */
  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.20);
  --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.25);
  --shadow-sm: 0px 2px 4px -1px hsl(0 0% 0% / 0.22), 0px 1px 2px -1px hsl(0 0% 0% / 0.15);
  --shadow: 0px 4px 6px -1px hsl(0 0% 0% / 0.28), 0px 2px 4px -2px hsl(0 0% 0% / 0.18);
  --shadow-md: 0px 6px 12px -2px hsl(0 0% 0% / 0.32), 0px 3px 6px -3px hsl(0 0% 0% / 0.20);
  --shadow-lg: 0px 10px 20px -4px hsl(0 0% 0% / 0.38), 0px 4px 8px -4px hsl(0 0% 0% / 0.22);
  --shadow-xl: 0px 20px 30px -6px hsl(0 0% 0% / 0.45), 0px 8px 12px -6px hsl(0 0% 0% / 0.28);
  --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 0% / 0.60);
  
  /* Dark mode elevation overlays */
  --elevate-1: var(--color-hover);
  --elevate-2: var(--color-active);
  
  /* Dark mode button outlines */
  --button-outline: rgba(255, 255, 255, .10);
  --badge-outline: rgba(255, 255, 255, .05);
  
  /* Dark mode border intensity */
  --opaque-button-border-intensity: 9;
}

/* ================================================
   BASE STYLES USING TOKENS
   ================================================ */

/* Apply responsive typography scale */
body {
  font-size: var(--font-size-body);
  line-height: var(--line-height-normal);
}

@media (max-width: 479px) {
  :root { --font-size-body: var(--font-size-body-xs); }
}
@media (min-width: 480px) and (max-width: 767px) {
  :root { --font-size-body: var(--font-size-body-sm); }
}
@media (min-width: 768px) and (max-width: 1023px) {
  :root { --font-size-body: var(--font-size-body-md); }
}
@media (min-width: 1024px) {
  :root { --font-size-body: var(--font-size-body-lg); }
}

/* High Contrast Mode - Enhanced accessibility */
.high-contrast {
  /* Stronger contrast for text */
  --color-foreground: 0 0% 0%;
  --color-background: 0 0% 100%;
  
  /* Enhanced border visibility */
  --color-border: 0 0% 30%;
  
  /* Card with stronger contrast */
  --color-surface: 0 0% 98%;
  --color-surface-foreground: 0 0% 0%;
  --color-border-secondary: 0 0% 25%;
  
  /* Stronger button contrasts */
  --color-primary: 220 100% 35%;
  --color-primary-foreground: 0 0% 100%;
  
  --color-secondary: 0 0% 20%;
  --color-secondary-foreground: 0 0% 100%;
  
  --color-muted: 0 0% 85%;
  --color-muted-foreground: 0 0% 10%;
  
  --color-accent: 140 50% 30%;
  --color-accent-foreground: 0 0% 100%;
  
  --color-error: 0 90% 40%;
  --color-error-foreground: 0 0% 100%;
  
  /* Poker table with higher contrast */
  --poker-felt: 140 80% 20%;
  --poker-card-red: 0 100% 35%;
  --poker-card-black: 0 0% 0%;
  --poker-chip-gold: 45 100% 40%;
}

.dark.high-contrast {
  /* High contrast dark mode */
  --color-foreground: 0 0% 100%;
  --color-background: 0 0% 0%;
  
  --color-border: 0 0% 70%;
  
  --color-surface: 0 0% 8%;
  --color-surface-foreground: 0 0% 100%;
  --color-border-secondary: 0 0% 75%;
  
  --color-primary: 220 100% 60%;
  --color-primary-foreground: 0 0% 0%;
  
  --color-secondary: 0 0% 85%;
  --color-secondary-foreground: 0 0% 0%;
  
  --color-muted: 0 0% 25%;
  --color-muted-foreground: 0 0% 95%;
  
  --color-accent: 140 70% 55%;
  --color-accent-foreground: 0 0% 0%;
  
  --color-error: 0 100% 55%;
  --color-error-foreground: 0 0% 0%;
  
  /* Poker colors for dark high contrast */
  --poker-felt: 140 80% 25%;
  --poker-card-red: 0 100% 50%;
  --poker-card-black: 0 0% 100%;
  --poker-chip-gold: 45 100% 55%;
}

@layer base {
    :root {
      --background: 222 15% 12%;
      --foreground: 210 40% 98%;
    }
    
    /* Improved text legibility */
    html {
      font-size: 16px;
    }
    
    body {
      font-size: var(--font-size-sm);
      line-height: var(--line-height-normal);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    /* Ensure minimum text sizes for accessibility */
    p, span, div {
      min-font-size: var(--font-size-sm);
    }
    
    .text-xs {
      font-size: var(--font-size-xs) !important;
    }
    
    .text-sm {
      font-size: var(--font-size-sm) !important;
    }
    
    button, .btn {
      font-size: var(--font-size-sm) !important;
      font-weight: var(--font-weight-medium);
    }
  }

  @keyframes pulse-dots {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  .animate-pulse-dots {
    animation: pulse-dots 1.4s infinite;
  }

/**
 * Elevation system utilities
 */
@layer utilities {

  /* Hide search cancel button in Chrome */
  input[type="search"]::-webkit-search-cancel-button {
    @apply hidden;
  }

  /* Placeholder styling for contentEditable div */
  [contenteditable][data-placeholder]:empty::before {
    content: attr(data-placeholder);
    color: hsl(var(--muted-foreground));
    pointer-events: none;
  }

  /* Poker Card Animations */
  @keyframes dealCard {
    0% {
      transform: translate3d(var(--deal-from-x, 0), var(--deal-from-y, -300px), 0) scale(0.3);
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
    100% {
      transform: translate3d(0, 0, 0) scale(1);
      opacity: 1;
    }
  }

  @keyframes flopReveal {
    0% {
      transform: translate3d(0, -50px, 0);
      opacity: 0;
    }
    100% {
      transform: translate3d(0, 0, 0);
      opacity: 1;
    }
  }

  @keyframes turnRiverReveal {
    0% {
      transform: translate3d(80px, 0, 0) scale(0.95);
      opacity: 0;
    }
    100% {
      transform: translate3d(0, 0, 0) scale(1);
      opacity: 1;
    }
  }

  @keyframes badgeSlideIn {
    0% {
      transform: translate3d(-50%, 10px, 0) scale(0.8);
      opacity: 0;
    }
    100% {
      transform: translate3d(-50%, 0, 0) scale(1);
      opacity: 1;
    }
  }

  @keyframes badgeSlideOut {
    0% {
      transform: translate3d(-50%, 0, 0) scale(1);
      opacity: 1;
    }
    100% {
      transform: translate3d(-50%, -10px, 0) scale(0.8);
      opacity: 0;
    }
  }

  @keyframes chipFloat {
    0%, 100% {
      transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    }
    25% {
      transform: translate3d(0, -5px, 0) rotate(8deg) scale(1.05);
    }
    50% {
      transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    }
    75% {
      transform: translate3d(0, -5px, 0) rotate(-8deg) scale(1.05);
    }
  }

  .card-deal-animation {
    animation: dealCard var(--animation-duration-normal) var(--ease-out) forwards;
    will-change: transform, opacity;
  }

  .card-flop-animation {
    animation: flopReveal calc(var(--animation-duration-normal) * 1.33) var(--ease-out) forwards;
    will-change: transform, opacity;
  }

  .card-turn-river-animation {
    animation: turnRiverReveal var(--animation-duration-base) var(--ease-out) forwards;
    will-change: transform, opacity;
  }

  /* Performance utilities */
  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }

  .will-animate {
    will-change: transform;
  }

  .animation-complete {
    will-change: auto;
  }

  /* Elevation system */
  .no-default-hover-elevate {}
  .no-default-active-elevate {}

  .toggle-elevate::before,
  .toggle-elevate-2::before {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    border-radius: inherit;
    z-index: -1;
  }

  .toggle-elevate.toggle-elevated::before {
    background-color: var(--elevate-2);
  }

  .border.toggle-elevate::before {
    inset: -1px;
  }

  .hover-elevate:not(.no-default-hover-elevate),
  .active-elevate:not(.no-default-active-elevate),
  .hover-elevate-2:not(.no-default-hover-elevate),
  .active-elevate-2:not(.no-default-active-elevate) {
    position: relative;
    z-index: 0;
  }

  .hover-elevate:not(.no-default-hover-elevate)::after,
  .active-elevate:not(.no-default-active-elevate)::after,
  .hover-elevate-2:not(.no-default-hover-elevate)::after,
  .active-elevate-2:not(.no-default-active-elevate)::after {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    border-radius: inherit;
    z-index: 999;
  }

  .hover-elevate:hover:not(.no-default-hover-elevate)::after,
  .active-elevate:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-1);
  }

  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,
  .active-elevate-2:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-2);
  }

  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {
    inset: -1px;
  }

  /* Poker button interaction effects */
  .poker-button-glow {
    transition: box-shadow var(--transition-fast) var(--ease-in-out), 
                transform var(--transition-faster) var(--ease-in-out);
  }

  .poker-button-glow:hover:not(:disabled) {
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.4), 0 0 30px rgba(255, 215, 0, 0.2);
  }

  .poker-button-glow:active:not(:disabled) {
    transform: scale(0.95);
  }

  /* Enhanced pulsing glow for current player */
  @keyframes pulse-glow {
    0%, 100% {
      transform: translate3d(0, 0, 0) scale(1);
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.5), 0 0 30px rgba(255, 215, 0, 0.3), 0 0 45px rgba(255, 215, 0, 0.1);
    }
    50% {
      transform: translate3d(0, 0, 0) scale(1.02);
      box-shadow: 0 0 25px rgba(255, 215, 0, 0.8), 0 0 45px rgba(255, 215, 0, 0.5), 0 0 60px rgba(255, 215, 0, 0.3);
    }
  }

  .animate-pulse-glow {
    animation: pulse-glow calc(var(--animation-duration-slow) * 4) var(--ease-in-out) infinite;
    transform: translateZ(0);
    will-change: transform;
  }

  /* Reduced motion variant */
  @media (prefers-reduced-motion: reduce) {
    .animate-pulse-glow {
      animation: none !important;
      box-shadow: 0 0 20px rgba(255, 215, 0, 0.6) !important;
      border-width: 3px !important;
      border-color: hsl(var(--poker-chip-gold)) !important;
    }
  }

  /* Chip animations */
  @keyframes chip-shimmer {
    0%, 100% {
      filter: brightness(1) drop-shadow(0 0 8px rgba(255, 215, 0, 0.3));
    }
    50% {
      filter: brightness(1.2) drop-shadow(0 0 12px rgba(255, 215, 0, 0.6));
    }
  }

  @keyframes chip-collect {
    0% {
      transform: scale(1);
      opacity: 1;
    }
    50% {
      transform: scale(1.3);
    }
    100% {
      transform: scale(0.5);
      opacity: 0;
    }
  }

  .chip-shimmer {
    animation: chip-shimmer calc(var(--animation-duration-slow) * 4) var(--ease-in-out) infinite;
  }

  /* Win amount indicator animation */
  @keyframes float-up {
    0% {
      transform: translateY(0) scale(1);
      opacity: 1;
    }
    100% {
      transform: translateY(-40px) scale(1.1);
      opacity: 0;
    }
  }

  /* Slider enhancements */
  input[type="range"]:active {
    filter: drop-shadow(0 0 8px hsl(var(--poker-chip-gold) / 0.5));
  }

  /* Smooth transitions for chip elements */
  .chip-transition {
    transition: all var(--transition-base) var(--ease-in-out);
  }

  /* Shake animation for invalid actions */
  @keyframes shake {
    0%, 100% {
      transform: translateX(0);
    }
    10%, 30%, 50%, 70%, 90% {
      transform: translateX(-8px);
    }
    20%, 40%, 60%, 80% {
      transform: translateX(8px);
    }
  }

  .animate-shake {
    animation: shake calc(var(--animation-duration-normal) * 1.33) var(--ease-spring);
  }

  /* Flash border for invalid actions */
  @keyframes flash-border {
    0%, 100% {
      border-color: hsl(var(--border));
    }
    50% {
      border-color: hsl(var(--destructive));
    }
  }

  .animate-flash-border {
    animation: flash-border calc(var(--animation-duration-normal) * 1.33) var(--ease-in-out);
  }

  /* Poker Table Textures and Ambient Effects */
  .felt-texture {
    background-image: 
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 0, 0, 0.03) 2px,
        rgba(0, 0, 0, 0.03) 4px
      ),
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 2px,
        rgba(0, 0, 0, 0.03) 2px,
        rgba(0, 0, 0, 0.03) 4px
      ),
      radial-gradient(
        ellipse at center,
        hsl(var(--poker-felt)),
        hsl(var(--poker-felt) / 0.95)
      );
  }

  /* Wood texture for table edge */
  .wood-texture {
    background-image: 
      linear-gradient(
        90deg,
        hsl(var(--poker-table-border)),
        hsl(var(--poker-table-border) / 0.95) 20%,
        hsl(var(--poker-table-border)) 40%,
        hsl(var(--poker-table-border) / 0.9) 60%,
        hsl(var(--poker-table-border)) 80%,
        hsl(var(--poker-table-border) / 0.95)
      );
  }

  /* Table shadow and depth */
  .table-depth {
    box-shadow: 
      inset 0 0 50px rgba(0, 0, 0, 0.3),
      inset 0 0 100px rgba(0, 0, 0, 0.1),
      0 20px 40px rgba(0, 0, 0, 0.5);
  }

  /* Ambient lighting effect */
  .ambient-light {
    position: relative;
  }

  .ambient-light::before {
    content: "";
    position: absolute;
    inset: -50%;
    background: radial-gradient(
      circle at 30% 20%,
      rgba(255, 255, 200, 0.1),
      transparent 40%
    );
    pointer-events: none;
    z-index: 1;
  }

  /* Card shadow for realism */
  .card-shadow {
    box-shadow: 
      0 2px 4px rgba(0, 0, 0, 0.2),
      0 4px 8px rgba(0, 0, 0, 0.1);
  }

  .card-shadow-hover {
    box-shadow: 
      0 4px 8px rgba(0, 0, 0, 0.3),
      0 8px 16px rgba(0, 0, 0, 0.15);
  }

  /* Chip stack shadows */
  .chip-stack-shadow {
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.3))
            drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
  }

  /* Pot glow effect */
  .pot-glow {
    filter: drop-shadow(0 0 20px hsl(var(--poker-chip-gold) / 0.4))
            drop-shadow(0 0 40px hsl(var(--poker-chip-gold) / 0.2));
  }

  /* Winner spotlight */
  @keyframes winner-spotlight {
    0%, 100% {
      background: radial-gradient(
        circle at center,
        rgba(255, 215, 0, 0.2),
        transparent 50%
      );
    }
    50% {
      background: radial-gradient(
        circle at center,
        rgba(255, 215, 0, 0.4),
        transparent 60%
      );
    }
  }

  .winner-spotlight {
    animation: winner-spotlight calc(var(--animation-duration-slow) * 3) var(--ease-in-out) infinite;
  }

  /* Celebration confetti */
  @keyframes confetti-fall {
    0% {
      transform: translateY(-100vh) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(100vh) rotate(720deg);
      opacity: 0;
    }
  }

  .confetti {
    animation: confetti-fall calc(var(--animation-duration-slow) * 6) var(--ease-linear);
  }

  /* Dealer button shine */
  @keyframes dealer-shine {
    0%, 100% {
      background: linear-gradient(
        45deg,
        hsl(var(--poker-chip-gold)),
        hsl(var(--poker-chip-gold) / 0.8)
      );
    }
    50% {
      background: linear-gradient(
        45deg,
        hsl(var(--poker-chip-gold) / 0.9),
        hsl(var(--poker-chip-gold))
      );
    }
  }

  .dealer-button {
    animation: dealer-shine calc(var(--animation-duration-slow) * 4) var(--ease-in-out) infinite;
  }
}

/* Mobile-specific tap highlight */
@media (hover: none) and (pointer: coarse) {
  button,
  a,
  [role="button"],
  input,
  textarea,
  select {
    -webkit-tap-highlight-color: hsl(var(--color-primary) / 0.2);
  }
}

/* Print styles using design tokens */
@media print {
  :root {
    --color-background: 0 0% 100%;
    --color-foreground: 0 0% 0%;
    --color-border: 0 0% 60%;
  }
  
  body {
    font-size: var(--font-size-sm);
    line-height: var(--line-height-normal);
  }
}

/* Accessibility: Focus visible styles using tokens */
*:focus-visible {
  outline: 2px solid hsl(var(--color-focus));
  outline-offset: 2px;
}

/* Selection styles using tokens */
::selection {
  background-color: hsl(var(--color-selection));
  color: hsl(var(--color-foreground));
}

/* Scrollbar styles using tokens */
::-webkit-scrollbar {
  width: var(--spacing-sm);
  height: var(--spacing-sm);
}

::-webkit-scrollbar-track {
  background: hsl(var(--color-background));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--color-border));
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--color-border-secondary));
}